## Архитектурное решение по логированию

 **INFO**
 - Создание заказа. UserID, CreatedAT, RequestData
 - Обновление статуса заказа UpdatedAt, newStatus, UserID
 - Авторизация в CRM или MES. UserID, Date
 
 **WARN**
 - Пользовательские ошибки при создании заказов. UserID, RequestData
 
 **Error**
 - Ошибки создания заказов. OrderID, ErrorMessage
 - Ошибка загрузки файла OrderID, FileName, FileSize

 ### Мотивация
В превую очередь нужно добавить логирование на бэкенды, на создание и обработку заявок, так как это самая критичная функциональность продукта

Приемущества:
- Логирование поможет обнаружить ошибки при создании заказов
- Можно собрать мониторинг по скорости созданию заявок на изделия
- Поможет собрать метрику по скорости обработки заявок на каждом этапе и выявить самых эффективных менеджров в CRM и MES

### Предлагаемое решение
Техническое решение. Логируем приложением, так же смотрим системыне логи и логи контейнера. Подключаем FileBeat и отгружаем данные в logstash, подключаем Elastic и Kibana
см ./jewerly_c4_model.drawio

**Безопасность.** Обфусцировать все персональные данные и оперировать только ID. Создать отдельную роль на доступ и выдавать ее точечно

**Хранение логов.** Можно сделать так что бы логи хранились по времени, например 2 недели, затем архивировались и складывались на диск и там хранились еще месяц или два.

### Алерты
- LimitCPU 80%
- LimitMemory 80%
- Количество 5xx > 10%
- RPS резкий рост
- Latency превышает 1s на протяжении 5 минут