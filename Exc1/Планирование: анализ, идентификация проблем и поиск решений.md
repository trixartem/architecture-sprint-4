## Планирование: анализ, идентификация проблем и поиск решений
### Проблемы на стороне пользователей системы
- Клиенты не получили заказ воремя, хотя производство справляется. Несколько месяцев вместо 3х недель.
- Открыли свой API и жалоб стало больше
- Операторы долго не могут попасть на страницу с заказами, что вляиет на их доход

### Список технических проблем
1. Недостаточно физических ресурсов. Все экземпляры по одному инстансу, а нагрузка увеличилась
2. База данных в виде одного инстанса работает на чтение и на запись
3. "MES API" используется для внешнего API и для работы операторов. Бэкенд становится нагруженным и кто-то из потребителей будет страдать
4. Нет кэшей, которые могли бы ускорить отображение данных в MEX и CRM

### Инициативы
1. Добавить для БД(MES DB) репликацию, так что бы отдельный инстанс(master) работал на запись и отдельно slave на чтение
	- Не будет нагружать БД, когда идет большой поток записи. Клиент сможет вычитывать существующие данные
2. Добавить кэш на изменение статуса заказа. При записи обновлять кэш writeThrought
	- Для CRM важно видеть актуальный статус, при этом статус меняется только при его изменении. Значит можно добавить кэш, которые сбрасывается при обновлении статуса. Поможет ускорить CRM на чтение данных
3. MES API разделить на 2 части: для операторов и для пользователей
	- Сделает сервисы независимыми, что увеличивает отказоустойчивость и масштабирование разных частей системы при необходимости
4. Добавить мониторинг, логирование, что бы следить за состоянием системы
5. Использовать подход backpressuer для внешнего API
	- Потенциально внешнее АПИ может создавать большую нагрузку для системы, поэтому важно уметь ее снимать, что бы не положить сервис целиком
6. Для CRM  так же стоит выделить отдельную БД, что бы увеличить отказоустойчивость
7. Добавить трейсинг запросов для возможности анализировать запросы

### Первые 3 пункта
1. Добавить логи и мониторинги. Поможет дегностировать проблемы
2. Реплицировать БД. Поможет ускорить CRM
3. MES API разделить на 2 части: для операторов и для пользователей. Уменьшит риск падения всей системы MES

**Итого:** эти пункты направлены на масштабирование под увеличение нагрузки, увеличение отказоустойчивости и умение превентивно реагировать на проблемы, а не только узнавать от пользователей о проблемах
